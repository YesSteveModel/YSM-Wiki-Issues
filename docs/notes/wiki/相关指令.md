---
title: 相关指令
icon: heroicons:command-line-20-solid
createTime: 2025/01/27 19:59:04
permalink: /wiki/command/
tags:
  - 指令
  - 服务端管理
  - 模型制作
---

Yes Steve Model 模组也提供了诸多指令，这些指令大部分都需要 OP 2 权限才可执行。

所有的指令添加了游戏内的提示功能，所有模型 ID、玩家 ID 即可智能提示。

## 主指令

这些指令可以在服务端和客户端执行。

- `/ysm model reload` 重载全部模型文件：同时还会将模型文件向所有客户端玩家全部同步一次；
- `/ysm model set <player> <model_id> <texture_id> [ignore_auth]` 将特定模型、材质赋予给某个玩家，最后的 `ignore_auth`
  参数是可选参数，当设置为 true 时，会无视模型授权，强制为玩家赋予模型；
- `/ysm play <player> <animation_name>` 强制玩家播放 xxx 动画；
- `/ysm play <player> stop` 清除之前强制玩家播放的动画；
- `/ysm auth <player> all` 向玩家授权全部模型；
- `/ysm auth <player> clear` 清除玩家所有授权模型；
- `/ysm auth <player> add <model_id>` 向玩家授权 xxx 模型；
- `/ysm auth <player> remove <model_id>` 清除玩家授权的 xxx 模型；
- `/ysm export <model_id> [extra_info]` 将某个模型导出成 ysm 专属模型格式，你还可以添加附加信息；
- `/ysm ping` 测试客户端服务端联通性，如果出现 “服务端模组和客户端版本不一致”，可以执行此指令，此指令没有权限要求；
- `/ysm molang execute <player> <expr>` 在指定玩家身上执行 molang，多人游戏下可用，但不会打印执行结果。

## 客户端指令

这些指令只在客户端执行，用于模型制作者调试动画。

- `/ysmclient watch var <expr>` 2.4.0 新增简化版指令，可以快速向自定义调试屏幕添加 molang 表达式，会实时计算和更新；
- `/ysmclient watch state <controller>` 2.4.0 新增指令，可以快速向自定义调试屏幕监听控制器当前所处状态，会实时计算和更新；
- `/ysmclient watch clear` 2.4.0 新增简化版指令，清除先前添加的所有 molang 和控制器监听；
- `/ysmclient molang execute <expr>` 在本地玩家身上执行 molang 表达式，并输出结果至聊天框；
- `/ysmclient molang watch add [pre|post] <name> <expr>` 向自定义调试屏幕添加 molang 表达式，会实时计算和更新；
    - `pre` 在动画更新前执行，`post` 在动画更新后执行
    - 2.2.2 及之前的版本需要按两次 `Alt` + `B` 才能进入自定义调试屏幕
    - 2.3.0 及往后的版本只需要按一次 `Alt` + `B` 就能进入自定义调试屏幕
- `/ysmclient molang watch remove <name>` 移除先前添加的某个 molang；
- `/ysmclient molang watch clear` 清除先前添加的所有 molang。
