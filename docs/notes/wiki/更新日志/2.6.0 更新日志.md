---
title: 2.6.0 更新日志
icon: ic:sharp-update
createTime: 2026/01/04 21:30:30
permalink: /wiki/log/260/
tags:
  - 更新日志
---

## 问题修正
- 在不兼容的系统上提供更详细的错误提示
- 修复生命值为非整数时反复触发属性同步的问题
- 改进部分同步属性的处理逻辑
- 修复 2.2.1 及更低版本导出的加密模型中半透明面渲染异常的问题
- 修复载具模型的 `roaming` 变量同步问题
- 修复其他模组扩展 `SlotType` 时导致崩溃的问题
- 修复某些模组可能导致药水效果为 null 的问题
- 修复异步动画更新失效的问题
- 修复 `ysm.in_shield_block_cooldown` 无效的问题
- 修复旧版加密模型箭矢替换失效的问题（需手动删除缓存后生效）
- 修复若干客户端崩溃问题

## 性能优化
- 改进部分同步属性的处理逻辑
- 大幅提升 zip 模型和旧加密模型的读取速度
- 大幅提升 PNG 图片的编解码速度
- 优化模型音频处理性能
  - 新增服务端配置项 `AcceptSoundFX`，可选择性禁用模型音频读取，以提升模型加载速度并降低带宽占用


## 功能优化

- 改进 UV 处理方式
  - 主要影响 UV 尺寸或面积为 0 的面
  - 影响范围：低于 2.2.1 版本和高于 2.5.4 版本的加密模型，以及所有未加密模型
  - 起草了 YSM UV 规范，您可以[点击这里查看相关内容](/wiki/ysm-uv-standard/)
- 为 `/ysm model set` 指令新增默认贴图名称占位符 `-`
- 改进运行环境检测机制，在不支持的环境下弹出警告窗口
- 细化动画更新上下文
- 对已禁用模型的实体不再添加 Jade 信息
- 更新部分语言文件
- 更新蓝玫瑰绘制的新版图标

## 动画与模型更新

- 新增K螺模型

- 默认酒狐模型优化与修正
  - 优化 `tacz` 枪械使用动画，现在飞行状态下使用不会再出问题（感谢 @千代纸）
  - 酒狐飞行动画改为直升机样式（感谢 @小莫莫）
  - 新增大酒狐模型（感谢 @受不了老师）
  - 优化并更新魔法酒狐动画（感谢 @星海境）

- 新增 Molang 变量：
  - `query.rotation_to_camera`：与基岩版用法一致，返回玩家摄像机视角的 `yaw` 和 `pitch`
  - `ctrl.tac_fire_mode`：返回 tacz 的开火模式字符串
  - `ysm.hit_target_id`：返回鼠标指针指向的方块或实体 ID
  - `ysm.hit_target_type`：返回鼠标指针指向的目标类型，方块返回 `block`，实体返回 `entity`
  - `ctrl.bcombat_attack_animation`：返回 Better Combat 的攻击动画，注意该动画不区分主副手，需通过额外条件判断
  - 沉浸式奏乐模组相关：
    - `ctrl.im_pitch`：音高，通常为 0-2 之间
    - `ctrl.im_volume`：音量，通常为 0-2 之间
    - `ctrl.im_current`：电平强度，范围为 0-1
    - `ctrl.im_delta`：自上次音符输出后经过的时间（单位：毫秒）
    - `ctrl.im_time`：自开始演奏后经过的时间（单位：毫秒）
  - `ctrl.iss_animation`：铁魔法施法动画
  - 攻击 swing 相关 molang：
    - `ysm.swinging`：布尔值，当玩家挥动时，返回 true
    - `ysm.swing_time`：整数，当玩家挥动时，返回挥动的计数，一般在 10 以内
    - `ysm.swinging_arm`：挥动的手臂，主手为 0，副手为 1
    - `ysm.attack_time`：浮点数，攻击时前摇的计数器；0-1 之间，当为 1 时，触发攻击

## 模组兼容

### 1. Better Combat 模组

Better Combat 目前可通过默认的 swing 动画实现，暂无额外的专属动画。

可通过 `ctrl.bcombat_attack_animation` Molang 配合动画控制器，实现更精细的 Better Combat 动画。

修复了部分 Better Combat 的兼容问题：

- 修复挥动武器不触发动画的问题
- 修复开启光影时第一人称视角下渲染异常的问题
- 修复 swing 动画在多人游戏中不同步的问题

### 2. 沉浸式奏乐模组

新增专用的 `im.animation.json` 动画文件，承载默认的 11 种乐器动画。

新增 5 个与当前奏乐相关的 Molang 变量，方便制作动态动画。

感谢 @星屑海螺 制作的奏乐动画。

### 3. 铁魔法

新增专用的 `iss.animation.json` 动画文件，用于放置铁魔法的部分施法动画（可扩展兼容其他附属模组）。

新增 1 个与当前施法动画相关的 Molang 变量。

感谢 @艾克雷亚 和 @星海境 制作的施法动画。