---
title: 2.5.2 更新日志
icon: ic:sharp-update
createTime: 2025/11/23 19:54:20
permalink: /wiki/log/252/
tags:
  - 更新日志
---

## Bug 修复

- 修复旧版 YSM 加密格式导致的手部动画异常问题
- 修复仅客户端运行时，跨服传送可能导致的掉线问题
- 修复与 Better Combat 模组兼容时，头部隐藏功能的异常问题
- 修正模型背景图和前景图的尺寸限制，最大支持 260×450 像素
- 修复部分服务端（特别是 Linux 服务端）因配置目录路径格式不规范导致的启动失败问题
  - 服务端读取默认模型失败时，现在会显示准确的错误信息
- 修复玩家同时处于发光和隐身状态时轮廓渲染异常的问题
- 修复特定情况下 GUI 动画播放异常的问题
- 修复使用 Carry On 模组抱起女仆时动画显示错误的问题
- 修复女仆切换模型时动画状态异常的问题
- 修复服务端未安装 YSM 时部分 Molang 变量无法正常更新的问题
- 修复调用 Molang 自定义函数时使用函数表达式传参导致的参数解析错误
- 修复获取方块信息的 Molang 函数对 Y 坐标分量处理错误的问题
- 修复特定条件下 ZIP 文件读取失败的问题
- 修复与 TaCZ Tweaks 模组的兼容性问题
- 修复 1.21.1 NeoForge 车万女仆无法使用 TaCZ 枪械射击的问题

## 性能优化

- 优化远距离和不可见实体的动画更新频率，减少性能消耗
- 改进玩家属性同步机制，有效降低服务端网络带宽使用
- 新增服务端配置选项：低带宽模式
- 自动清理服务端无效的玩家 roaming 数据，防止 NBT 数据过大
- 添加更多内存安全特性
- 客户端纹理压缩格式改为 WebP，显著降低内存占用

## 新增功能与内容修改

- 新增对 Linux 客户端的支持（注意：客户端无法在虚拟机环境下运行）
- 新增对 Android 客户端的支持
- 完善头戴物品的兼容性支持
- 新增对 Simple Hat（简单帽子）模组的兼容
- 改进投掷物和骑乘实体模型的实体匹配机制：
  - 支持配置多个实体 ID
  - 支持使用实体标签（tag）进行匹配
- 新增对 7z 压缩格式模型的支持，可解决 ZIP 格式出现乱码或读取失败的问题
  - 同时支持模型文件和模型包
  - 当 7z 压缩包大小超过 64MB 时，请关闭"固实压缩"功能，并将"固实数据大小"设置为不超过 64MB，然后重新压缩
  - 注意：固实数据越大压缩率越高，但加载速度会相应降低
- 全面重构音频系统，实现以下改进：
  - 采用流式解码技术，显著提升模型加载速度并降低内存占用
  - 优化 Opus 解码器，提供更高的音频质量
  - 新增动画控制器音效支持
  - 新增音频循环播放功能
  - 细化音频播放上下文管理，实现精确的生命周期控制
  - 保持音频 Molang 函数用法不变，但播放效果有显著改进（详见附录文档）
  - 建议使用 YSM 专用的 Opus 转码工具获得最佳效果
- 增强动画调试功能：
  - 支持调试远程玩家、女仆、投掷物和载具实体
  - 使用 `Alt + B` 组合键调试鼠标指向的实体
  - 新增 `/ysmclient debug <selector>` 命令，支持精确匹配实体进行调试
  - 新增 `/ysmclient molang execute <exp>` 命令，可在当前调试实体上执行 Molang 表达式
- 新增 Molang 变量：`q.delta_time`
- 优化硬编码控制器的缩放帧，禁用起始过渡动画
- 新增模型黑名单功能，可阻止指定默认模型的加载
  - 配置文件位置：`<游戏目录>/yes_steve_model/blacklist.txt`（文件内含详细说明）

- 为轮盘配置界面新增滚动功能，支持鼠标滚轮和按钮操作
- 新增针对单个玩家的 YSM 渲染控制功能
  - 命令格式：`/ysm model disable <玩家 ID> [true | false]`
- 新增酒狐模型：小酒狐和莫莫酒狐
- 为酒狐模型新增多种睡觉动画效果（制作者：小莫莫）

## Android 平台兼容与优化

- 支持 Android 系统下的 FCL、ZL 和 ZL2 启动器
  - 当检测到启动器版本过旧时，会在游戏内显示升级提示
- 新增多项移动端适配优化：
  - 优化轮盘配置界面按钮尺寸，提升移动设备操作体验
  - 在暂停菜单（ESC 界面）新增快捷按钮，可快速访问换肤、轮盘配置和纸娃娃配置界面
  - 放大纸娃娃配置界面的控制点，便于进行缩放、位移和旋转调整
  - 为纸娃娃配置界面新增重置按钮和显示/隐藏切换选项
- 优化 Android 端模型加载时的系统资源占用
- 改进 Android 系统的线程调度算法
- 修复安装 Touch Controller 模组后轮盘动画无法正常中断的问题
- **重要提示**：
  - YSM 和 Java 使用独立的内存池，两者可能存在内存竞争关系
  - 为 Java 分配过多内存可能导致 YSM 可用内存不足，请合理配置内存分配
